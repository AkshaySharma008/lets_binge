{"version":3,"sources":["components/Room/PlayList/playlist.module.css","components/Room/Chat/chat.module.css","components/Room/room.module.css","components/Room/Members/members.module.css","components/utils/page_loader/page_loader.module.css","components/Room/player/player.module.css","config/index.js","config/firestore.js","components/utils/page_loader/index.js","components/home/index.js","components/Room/player/index.js","components/Room/Chat/index.js","components/Room/PlayList/index.js","components/Room/Members/index.js","components/utils/local_storage/index.js","components/Room/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","ALLOWED_DOMAINS","CONVERT_DOMAINS","DEFAULT_SRC","FIREBASE","API_KEY","AUTH_DOMAIN","PROJECT_ID","STORAGE_BUCKET","MESSAGING_SENDER_ID","APP_ID","MEASUREMENT_ID","USERNAME_KEY","EVENT","ADD","KEYWORD","MESSAGE","REMOVE","LOAD","PLAYER","PLAY","PAUSE","config","room_collection","member_collection","initializeFirebase","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFireStore","apps","length","firestore","createRoom","a","collection","add","name","playlist","res","id","createMember","room","isHost","doc","rooms","createEvent","type","user","message","d","Date","n","getTime","createdAt","events","orderBy","members","getLastEvents","eventRef","limit","get","getMembers","memberRef","findMember","updateRoomDetails","url","progress","update","getARoom","updatePlaylist","PageLoader","title","cover","coverBackground","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","className","styles","shadow","style","loading","css","size","color","Home","history","useHistory","useState","setLoading","onClick","then","roomId","push","pathname","search","goToRoom","catch","err","Player","src","playing","updateRoomProgress","seek","playListAction","player","useRef","PLAYER_CONFIG","CONFIG","useEffect","onEnded","console","log","current","seekTo","youtube","playerVars","showinfo","autoplay","facebook","ref","react_player","loop","width","height","controls","onPause","onBuffer","onSeek","onPlay","onProgress","data","played","Chat","messages","addMessage","dummy","scrollIntoView","sendMessage","element","document","getElementById","msg","value","body","message_area","map","index","bubble","username","input_message","onKeyPress","e","which","placeholder","PlayList","onAppend","delete","deletePlaylistItem","Members","Set","key","reactLocalStorage","setObject","set","getObject","Object","keys","Map","Room","location","useLocation","setSrc","setName","active","setActive","setPlaying","setSeek","setMessages","setPlaylist","memberlist","setMember","setId","userId","setUserId","checkURL","result","matched_domain","i","domain","includes","final_domain","checkDomain","trim","Array","isArray","replace","loadMedia","force","finalSrc","shift","unshift","checkUsername","appendToPlaylist","mediaEnd","playnode","undefined","filter","_","LocalStorage","prompt","updateMembers","forEach","member","isOwner","getUsername","checkRoomDetails","getMessage","messageArray","Math","floor","random","memberAction","val","x","indexOf","handleEvent","event","navigation","component","URLSearchParams","setRoomId","onSnapshot","querySnapshot","promiseArray","docChanges","change","Promise","rej","ex","all","newMessages","concat","room_container","options","nav","nav_active","wrapper","details","wave","xmlns","viewBox","fill","fillP","App","exact","path","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8ab8f48f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"playlist_body__3lUyk\",\"input_message\":\"playlist_input_message__3Wxxu\",\"message_area\":\"playlist_message_area__2ibvi\",\"bubble\":\"playlist_bubble__3zkXk\",\"delete\":\"playlist_delete__1hF8I\",\"username\":\"playlist_username__25QZN\",\"message\":\"playlist_message__mr2ZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"chat_body__-cV2Q\",\"input_message\":\"chat_input_message__3ShjF\",\"message_area\":\"chat_message_area__35dwc\",\"bubble\":\"chat_bubble__GOTsH\",\"username\":\"chat_username__3goGx\",\"message\":\"chat_message__1rLmk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"room_container\":\"room_room_container__yoafx\",\"wrapper\":\"room_wrapper__1-jBj\",\"wave\":\"room_wave__qW0_q\",\"details\":\"room_details__3Vg9j\",\"options\":\"room_options__WjL6V\",\"nav_active\":\"room_nav_active__2WXXR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"members_body__2jUfz\",\"message_area\":\"members_message_area__2bAad\",\"bubble\":\"members_bubble__2ltKc\",\"delete\":\"members_delete__3hP2I\",\"message\":\"members_message__hP31-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shadow\":\"page_loader_shadow__3rt0p\",\"title\":\"page_loader_title__2Udzc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__7Avdx\",\"react_player\":\"player_react_player__iHCin\"};","export default {\n    ALLOWED_DOMAINS: ['music.youtube.com', 'youtube.com'],\n    CONVERT_DOMAINS: {\n        'music.youtube.com': 'youtube.com'\n    },\n    DEFAULT_SRC: \"https://www.youtube.com/watch?v=7bv_eqtkKqQ\",\n    FIREBASE: {\n        API_KEY: \"AIzaSyCMrTjeCVqbWIUDuXSzrQCCWOO1UuNbJBM\",\n        AUTH_DOMAIN: \"orbital-scene-200115.firebaseapp.com\",\n        PROJECT_ID: \"orbital-scene-200115\",\n        STORAGE_BUCKET: \"orbital-scene-200115.appspot.com\",\n        MESSAGING_SENDER_ID: \"184642334250\",\n        APP_ID: \"1:184642334250:web:bc19551df971fb77b25d53\",\n        MEASUREMENT_ID: \"G-WG9CW377SK\"\n    },\n    USERNAME_KEY: 'username',\n    EVENT: {\n        ADD: {\n            KEYWORD: 'add',\n            MESSAGE: [\n                'Say Hi to ${user}',\n                '${user} is here!',\n                'Look ${user} is here'\n            ]\n        },\n        REMOVE: {\n            KEYWORD: 'remove',\n            MESSAGE: [\n                '${user} left'\n            ]\n        },\n        MESSAGE: {\n            KEYWORD: 'message'\n        },\n        LOAD: {\n            KEYWORD: 'load',\n            MESSAGE: [\n                '${user} has loaded another video'\n            ]\n        },\n        PLAYER: {\n            PLAY: {\n                KEYWORD: 'play',\n                MESSAGE: [\n                    '${user} started playing!'\n                ]\n            },\n            PAUSE: {\n                KEYWORD: 'pause',\n                MESSAGE: [\n                    '${user} paused the video!'\n                ]\n            }\n        }\n    }\n}","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport config from './index';\n\nconst FIREBASE = config.FIREBASE;\n\nconst room_collection = \"rooms\";\nconst member_collection = \"members\";\nconst event_collection = \"events\";\n\n\nconst initializeFirebase = () => {\n    firebase.initializeApp({\n        apiKey: FIREBASE.API_KEY,\n        authDomain: FIREBASE.AUTH_DOMAIN,\n        projectId: FIREBASE.PROJECT_ID,\n        storageBucket: FIREBASE.STORAGE_BUCKET,\n        messagingSenderId: FIREBASE.MESSAGING_SENDER_ID,\n        appId: FIREBASE.APP_ID,\n        measurementId: FIREBASE.MEASUREMENT_ID\n    });\n}\n\nconst getFireStore = () => {\n    if (firebase.apps.length === 0) {\n        initializeFirebase();\n    }\n    const firestore = firebase.firestore();\n    return firestore;\n}\n\nconst createRoom = async () => {\n    const firestore = getFireStore();\n    const res = await firestore.collection(room_collection).add({\n        name: 'Demo Room',\n        playlist: [config.DEFAULT_SRC]\n    });\n    return res.id;\n}\n\nconst createMember = async (room, name, isHost) => {\n    const firestore = getFireStore();\n    const res = await firestore.collection(room_collection).doc(room).collection(member_collection).add({\n        name,\n        isHost\n    });\n    return res.id;\n}\n\nconst createEvent = async (room, type, user, message) => {\n    const firestore = getFireStore();\n    var d = new Date();\n    var n = d.getTime();\n    const res = await firestore.collection(room_collection).doc(room).collection(event_collection).add({\n        type,\n        user,\n        message,\n        createdAt: n\n    });\n    return res.id;\n}\n\nconst rooms = () => {\n    const firestore = getFireStore();\n    const messagesRef = firestore.collection('rooms');\n    const query = messagesRef;\n    return query;\n}\n\nconst events = (room) => {\n    const firestore = getFireStore();\n    const query = firestore.collection('rooms').doc(room).collection('events').orderBy('createdAt')\n    return query;\n}\n\nconst members = (room) => {\n    const firestore = getFireStore();\n    const query = firestore.collection('rooms').doc(room).collection('members');\n    return query;\n}\n\nconst getLastEvents = async (room) => {\n    const firestore = getFireStore();\n    const eventRef = firestore.collection('rooms').doc(room).collection('events');\n    return await eventRef.limit(25).get();\n}\n\nconst getMembers = async (room) => {\n    const firestore = getFireStore();\n    const memberRef = firestore.collection(room_collection).doc(room).collection(member_collection);\n    return await memberRef.get();\n}\n\nconst findMember = async (id,room) => {\n    const firestore = getFireStore();\n    const memberRef = firestore.collection(room_collection).doc(room).collection(member_collection);\n    return await memberRef.doc(id).get();\n}\n\nconst updateRoomDetails = (room,url,progress,playlist) => {\n    const firestore = getFireStore();\n    const res = firestore.collection(room_collection).doc(room).update({\n        url,\n        progress,\n        playlist\n    });\n    return res.id;\n}\n\nconst updatePlaylist = (playlist,room) => {\n    const firestore = getFireStore();\n    const res = firestore.collection(room_collection).doc(room).update({\n        playlist\n    });\n    return res.id;\n}\n\nconst getARoom = async (room) => {\n    const firestore = getFireStore();\n    const memberRef = firestore.collection(room_collection).doc(room);\n    return await memberRef.get();\n}\n\nexport default {\n    initializeFirebase,\n    createRoom,\n    createMember,\n    rooms,\n    createEvent,\n    events,\n    members,\n    getLastEvents,\n    getMembers,\n    findMember,\n    updateRoomDetails,\n    getARoom,\n    updatePlaylist\n}\n","import React from 'react'\nimport styles from './page_loader.module.css';\nimport PuffLoader from \"react-spinners/PuffLoader\";\n\nconst override = `\n    position:fixed;\n    left: 45%;\n    top: 50%;\n`;\n\nfunction PageLoader({title,cover}) {\n\n    const coverBackground = {\n        backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), \n        url(${cover})`,\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat'\n    }\n\n    return (\n        <div className={styles.shadow} style={coverBackground}>\n                <div className={styles.title}>{title}</div>\n                <PuffLoader loading={true} css={override} size={100} color=\"white\"/>\n        </div>\n    )\n}\n\nexport default PageLoader","import React, {useState} from 'react'\nimport { useHistory } from 'react-router-dom';\nimport firestore from '../../config/firestore';\nimport PageLoader from '../utils/page_loader';\n\nconst Home = () => {\n\n    const history = useHistory();\n    let [loading, setLoading] = useState(false);\n    \n\n    const goToRoom = (roomId) => {\n        if (roomId) {\n            history.push({\n                pathname: `/room`,\n                search: `?track=${roomId}`\n            });\n        }\n    }\n\n    const createRoom = () => {\n        setLoading(true);\n        firestore.createRoom().then((roomId) => {\n            goToRoom(roomId);\n        }).catch((err)=>{\n            setLoading(false);\n        })\n\n    }\n\n    return (\n        <div>\n            { loading && <PageLoader title={\"Creating Room\"}/>}\n            <div>\n                {/* <input type=\"text\" id=\"url\" placeholder=\"Enter URL\" /> */}\n                <button onClick={createRoom}>Create Room</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React, {useEffect, useRef} from 'react';\nimport { useLocation, useHistory, Link } from 'react-router-dom';\nimport ReactPlayer from 'react-player';\nimport CONFIG from '../../../config';\n\nimport styles from './player.module.css';\n\nfunction Player({\n    src,\n    createEvent,\n    playing,\n    updateRoomProgress,\n    seek,\n    playListAction\n}) {\n    const player = useRef();\n    const PLAYER_CONFIG = CONFIG.EVENT.PLAYER;\n\n    \n    useEffect(() => {\n\n        return () => {\n        //player.destroy();\n        }\n    });\n\n    const onPlay = () => {\n        if(playing === false){\n            createEvent(PLAYER_CONFIG.PLAY.KEYWORD);\n        }\n    }\n\n    const onPause = () => {\n        if(playing === true){\n            createEvent(PLAYER_CONFIG.PAUSE.KEYWORD);\n        }\n    }\n\n    const onBuffer = () => {\n        console.log('Bufferringgg!!');\n    }\n\n    const onSeek = () => {\n        console.log('Seekingg');\n    }\n\n    const onEnded = () => {\n        console.log('Ended!!!');\n        playListAction(2);\n    }\n\n    const updateProgress = (data) => {\n        updateRoomProgress(data.played);\n    }\n\n    useEffect(()=>{\n        if(seek){\n            player.current.seekTo(seek, \"fraction\");\n        }\n    },[seek])\n\n    const config = {\n        youtube: {\n            playerVars: {\n                showinfo: 0,\n                autoplay: 0\n            },\n            events: {\n                'onStateChange': onEnded\n            }\n        },\n        facebook: {\n            appId: '12345'\n        }\n    }\n\n    return (\n        <div className={styles.player}>\n            <ReactPlayer\n                url={src}\n                ref={player}\n                playing = {playing}\n                className={styles.react_player}\n                loop={false}\n                width={'100%'}\n                height={'100%'}\n                config={config}\n                controls={true}\n                onPause = {onPause}\n                onBuffer = {onBuffer}\n                onSeek = {onSeek}\n                onPlay = {onPlay}\n                onEnded = {onEnded}\n                onProgress = {updateProgress}\n            />\n        </div>\n    )\n}\n\nexport default Player\n","import React, {useEffect,useState, useRef} from 'react';\nimport styles from './chat.module.css';\n\nfunction Chat({messages, addMessage}) {\n    let room;\n    const dummy = useRef();\n\n    useEffect(() => {\n       // createRoom();\n        return () => {\n        }\n    });\n\n    useEffect(() => {\n        dummy.current.scrollIntoView();\n    }, [messages])\n\n    const sendMessage = () => {\n        const element = document.getElementById('msg');\n        const msg = element.value;\n        if(msg){\n            addMessage(msg);\n            element.value = '';\n        }\n    }\n\n    const handleKey = (e) => {\n        if (e.which === 13) {\n            sendMessage();\n        }\n    }\n\n    return (\n        <div className={styles.body}>\n            <div className={styles.message_area}>\n                {messages && messages.map((msg,index) => {\n                    return <div className={styles.bubble} key={index}>\n                        {msg.username && <div className={styles.username}>{msg.username}:</div>}\n                        <div className={styles.message}>{msg.message}</div>\n                    </div>\n                })}\n                <span ref={dummy}></span>\n            </div>\n            <div className={styles.input_message}>\n                <input onKeyPress={handleKey} type=\"text\" id=\"msg\" placeholder={\"Say Hi!\"}></input>\n                <button onClick={sendMessage}>SEND</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Chat\n","import React, {useEffect,useState, useRef} from 'react';\nimport styles from './playlist.module.css';\n\nfunction PlayList({\n    playlist,\n    playListAction\n}) {\n    let room;\n    const dummy = useRef();\n\n    useEffect(() => {\n       // createRoom();\n        return () => {\n        }\n    });\n\n    useEffect(() => {\n        dummy.current.scrollIntoView();\n    }, [playlist])\n\n    const sendMessage = () => {\n        const element = document.getElementById('msg');\n        const msg = element.value;\n        if(msg){\n            //addMessage(msg);\n            element.value = '';\n        }\n    }\n\n    const handleKey = (e) => {\n        if (e.which === 13) {\n            onAppend();\n        }\n    }\n\n    const onLoad = () => {\n        const element = document.getElementById('url');\n        const url = element.value;\n        if(url){\n           playListAction(0,url,true);\n           element.value = '';\n        }\n    }\n\n    const onAppend = () => {\n        const element = document.getElementById('url');\n        const url = element.value;\n        if (url) {\n            playListAction(1, url);\n            element.value = '';\n        }\n    }\n\n    const deletePlaylistItem = (index) => {\n        playListAction(3, '',false,index);\n    }\n\n    return (\n        <div className={styles.body}>\n            <div className={styles.message_area}>\n                {playlist && playlist.map((msg,index) => {\n                    return <div className={styles.bubble} key={index}>\n                        {msg.username && <div className={styles.username}>{msg.username}:</div>}\n                        <div className={styles.message}>{msg.url}</div>\n                        <p className={styles.delete} onClick={() => { deletePlaylistItem(index) }}>Delete</p>\n                    </div>\n                })}\n                <span ref={dummy}></span>\n            </div>\n            <div className={styles.input_message}>\n                <input onKeyPress={handleKey} type=\"text\" id=\"url\" placeholder={\"DROP YOUR LINK HERE\"}></input>\n                <button onClick={onLoad}>LOAD</button>\n                <button id=\"playlist\" onClick={onAppend}>Add to PlayList</button>\n            </div>\n        </div>\n    )\n}\n\nexport default PlayList\n","import React, {useEffect,useState, useRef} from 'react';\nimport styles from './members.module.css';\n\nfunction Members({\n    members\n}) {\n    const dummy = useRef();\n    useEffect(() => {\n        members = [...new Set(members)];\n    },[members])\n    return (\n        <div className={styles.body}>\n            <div className={styles.message_area}>\n                {members && members.map((msg,index) => {\n                    return <div className={styles.bubble} key={index}>\n                        {msg.username && <div className={styles.username}>{msg.username}:</div>}\n                        <div className={styles.message}>{`${msg.name} ${(msg.isHost ? ' [Host]' : '')}`}</div>\n                    </div>\n                })}\n                {/* <span ref={dummy}></span> */}\n            </div>\n            {/* <div className={styles.input_message}>\n                <input type=\"text\" id=\"url\" placeholder={\"DROP YOUR LINK HERE\"}></input>\n                <button >LOAD</button>\n                <button id=\"playlist\">Add to PlayList</button>\n            </div> */}\n        </div>\n    )\n}\n\nexport default Members\n","import {reactLocalStorage} from 'reactjs-localstorage';\n\nconst set = (key, value) => {\n    if (typeof value === 'object' && value !== null){\n        reactLocalStorage.setObject(key, value);\n    }else{\n        reactLocalStorage.set(key, value);\n    }\n}\n\nconst get = (key) => {\n    if(key){\n        const value = reactLocalStorage.getObject(key);\n        if (typeof value === 'object' && Object.keys(value).length !== 0) {\n            return value;\n        }else{\n            return reactLocalStorage.get(key);\n        }\n    }\n    return null;\n}\n\nconst remove = (key) => {\n    return reactLocalStorage.remove(key);\n}\n\nconst clearStorage = () => {\n    return reactLocalStorage.clear();\n}\n\nexport default {\n    set,\n    get,\n    remove,\n    clearStorage\n}","import React,{useEffect, useState} from 'react';\nimport Player from './player';\nimport Chat from './Chat';\nimport PlayList from './PlayList';\nimport Members from './Members';\nimport styles from './room.module.css';\nimport config from '../../config';\nimport {\n    useLocation,\n    useParams\n} from \"react-router-dom\";\nimport LocalStorage from '../utils/local_storage';\nimport firestore from '../../config/firestore';\n\nlet members = new Map();\n\nfunction Room() {\n    const location = useLocation();\n    const [src, setSrc] = useState(config.DEFAULT_SRC);\n    const [ name , setName ] = useState('USER');\n    const [active, setActive] = useState(0);\n    const [ playing, setPlaying ] = useState(false);\n    const [seek, setSeek] = useState(0);\n    let [messages, setMessages] = useState([]);\n    let [playlist, setPlaylist] = useState([]);\n    let [memberlist, setMember] = useState([]);\n    let isHost = false;\n    let [id, setId] = useState(null);\n    let [userId, setUserId] = useState(null);\n\n    const addMessage = (msg) => {\n        firestore.createEvent(id, config.EVENT.MESSAGE.KEYWORD, userId, msg);\n    }\n\n    const checkDomain = (url) => {\n        let matched_domain = '';\n        for (let i = 0; i < config.ALLOWED_DOMAINS.length; i++) {\n            const domain = config.ALLOWED_DOMAINS[i];\n            if (url.includes(domain)) {\n                matched_domain = domain;\n                break;\n            }\n        }\n\n        if (matched_domain === '') {\n            return -1;\n        }\n        let final_domain = matched_domain;\n        if (config.CONVERT_DOMAINS[matched_domain]) {\n            final_domain = config.CONVERT_DOMAINS[matched_domain];\n        }\n        return [matched_domain, final_domain];\n    }\n\n    const checkURL = (url) => {\n        url = url.trim();\n        const result = checkDomain(url);\n        if (Array.isArray(result)) {\n            return url.replace(result[0], result[1]);\n        } else {\n            return url;\n        }\n    }  \n\n    const loadMedia = (url, force = false) => {\n        const finalSrc = checkURL(url); \n        setSrc(finalSrc);\n        firestore.createEvent(id,config.EVENT.LOAD.KEYWORD,userId,finalSrc);\n        if(force){\n            playlist.shift();\n            playlist.unshift({\n                url,\n                username: checkUsername(),\n                userId\n            });\n            setPlaylist([...playlist]);\n        }\n    }\n\n    const appendToPlaylist = (url) => {\n        const finalSrc = checkURL(url);\n        if(finalSrc){\n            playlist.push({\n                url,\n                username: checkUsername(),\n                userId\n            });\n            if(playlist.length === 1 && !src){\n                loadMedia(url);\n            }\n            setPlaylist([...playlist]);\n        }\n    }\n\n    const mediaEnd = () => {\n        if(playlist.length > 0){\n            if(playlist[0].url === src){\n                playlist.shift();\n            }\n            if(playlist.length > 0){\n                const playnode = playlist[0];\n                loadMedia(playnode.url);\n            }else{\n                setSrc(undefined);\n                updateRoomProgress(1);\n            }\n        }\n        setPlaylist([...playlist]);\n    }\n\n    const deletePlaylistItem = (index) => {\n        if(playlist[index].url === src){\n            mediaEnd();\n        }\n        playlist = playlist.filter((_, i) => i !== index);\n        setPlaylist([...playlist]);\n    }\n\n    const playListAction = (type,url='',force = false, index = 0) => {\n        switch(type) {\n            case 0:\n                loadMedia(url,force);\n                break;\n            case 1:\n                appendToPlaylist(url);\n                break;\n            case 2:\n                mediaEnd();\n                break;\n            case 3:\n                deletePlaylistItem(index);\n                break;\n        }\n        firestore.updatePlaylist(playlist, id);\n    }\n\n    const checkUsername = () => {\n        const key = config.USERNAME_KEY;\n        let username = LocalStorage.get(key);\n        if(username){\n            return username;\n        }else{\n            username = prompt('Enter Username');\n            LocalStorage.set(key,username);\n            return username;\n        }\n    }\n\n    const updateMembers = async () => {\n        const result = await firestore.getMembers(id);\n        result.forEach((res) => {\n            members.set(res.id,res.data());\n            memberlist.push({\n                id: res.id,\n                name: res.data().name,\n                isHost: res.data().isHost\n            });\n        });\n        memberlist = [...new Set(memberlist)];\n        setMember([...memberlist]);\n    }\n\n    const createMember = async (username) => {\n        const room = LocalStorage.get(id);\n        if(room && room.member){\n            userId = room.member;\n            setUserId(userId);\n        }else{\n            const isOwner = members.size === 0 ? true : false;\n            userId = await firestore.createMember(id, username, isOwner);\n            setUserId(userId);\n            const roomJson = {\n                member: userId\n            }\n            LocalStorage.set(id, roomJson);\n            members.set(userId, {\n                name: username,\n                isHost: isOwner\n            });\n            memberlist.push({\n                id: userId,\n                name,\n                isHost: isOwner\n            });\n            memberlist = [...new Set(memberlist)];\n            setMember([...memberlist]);\n        }\n        firestore.createEvent(id, config.EVENT.ADD.KEYWORD, userId, '');\n    }\n\n    const getUsername = async (user) => {\n        let username = members.get(user)?.name;\n        return username === undefined ? await firestore.findMember(user,id) : username;\n    }\n\n    const checkRoomDetails = async () => {\n        const res = await firestore.getARoom(id);\n        if(res){\n            const data = res.data();\n            if(data.url){\n               setSrc(data.url);\n            }\n            if(data.progress){\n                setSeek(data.progress);\n            }\n            if(data.playlist){\n                playlist = data.playlist\n                setPlaylist([...playlist]);\n            }else{\n                if(data.url){\n                    playlist = [data.url]\n                    setPlaylist([...playlist]);\n                }else{\n                    setPlaylist([]);\n                }\n            }\n        }\n    }\n\n    const getMessage = (messageArray, username) => {\n        const length = messageArray.length;\n        const index = Math.floor(Math.random() * length);\n        const message = messageArray[index];\n        return message.replace('${user}',username);\n    }\n\n    const memberAction = (type, id, name = 'dummy') => {\n        if (type === 1) {\n            if(memberlist.filter((val) => val.id === id).length === 0){\n                memberlist.push({\n                    id,\n                    name\n                });\n            }\n        }else if(type === 2){\n            memberlist = memberlist.filter((val) => val.id !== id);\n        }\n        memberlist = memberlist.filter((x, i, a) => a.indexOf(x) == i);\n        memberlist = [...new Set(memberlist)];\n        setMember([...memberlist]);\n    }\n\n    const handleEvent = async (event) => {\n        const user = event.user;\n        const username = await getUsername(user);\n        switch (event.type) {\n            case config.EVENT.ADD.KEYWORD:\n                memberAction(1, user, username);\n                return {\n                    message: getMessage(config.EVENT.ADD.MESSAGE, username)\n                };\n                break;\n\n            case config.EVENT.REMOVE.KEYWORD:\n                memberAction(2, user, username);\n                return {\n                    message: getMessage(config.EVENT.REMOVE.MESSAGE, username)\n                };\n                break;\n            case config.EVENT.LOAD.KEYWORD:\n                setSrc(event.message);\n                return {\n                    message: getMessage(config.EVENT.LOAD.MESSAGE, username)\n                };\n                break;\n            case config.EVENT.MESSAGE.KEYWORD:\n                return {\n                    message: event.message,\n                        username: username\n                }\n                break;\n            case config.EVENT.PLAYER.PLAY.KEYWORD:\n                setPlaying(true);\n                return {\n                    message: getMessage(config.EVENT.PLAYER.PLAY.MESSAGE, username)\n                }\n                break;\n            case config.EVENT.PLAYER.PAUSE.KEYWORD:\n                setPlaying(false);\n                return {\n                    message: getMessage(config.EVENT.PLAYER.PAUSE.MESSAGE, username)\n                }\n        }\n    }\n\n    const updateRoomProgress = (progress) => {\n        if(members?.get(userId)?.isHost){\n            firestore.updateRoomDetails(id, src, progress, playlist);\n        }\n    }\n\n    const navigation = [{\n        key: 'Chat',\n        component: <Chat className=\"chat\" messages = {messages} addMessage = {addMessage} />\n        }, \n        {\n            key: 'PlayList',\n            component: <PlayList \n                            className=\"chat\" \n                            playlist = {playlist} \n                            loadMedia = {loadMedia} \n                            appendToPlaylist = {appendToPlaylist} \n                            mediaEnd = {mediaEnd} \n                            playListAction = {playListAction}\n                            setPlaylist = {setPlaylist}\n                        />\n        },\n        {\n            key: 'Members',\n            component: <Members\n                            members = {memberlist}\n                        />\n        }\n    ]\n\n    const setRoomId = () => {\n         const search = location.search;\n         const roomId = new URLSearchParams(search).get('track');\n         id = roomId;\n         setId(id);\n    }\n\n    useEffect(()=>{\n        setRoomId();\n        checkRoomDetails();\n        const username = checkUsername();\n        setName(username);\n        updateMembers().then((res)=> {\n            createMember(username).then((res) => {\n                firestore.events(id).onSnapshot(querySnapshot => {\n                    const promiseArray = [];\n                    const changes = querySnapshot.docChanges()\n                    changes.forEach(change => {\n                        promiseArray.push(new Promise((res,rej)=>{\n                            handleEvent(change.doc.data())?.then((result) => {\n                                res(result);\n                            }).catch((ex) => {\n                                rej(ex);\n                            })\n                        }))\n                    });\n                    Promise.all(promiseArray).then((newMessages) => {\n                        messages = messages.concat(newMessages);\n                        setMessages(messages);\n                    }); \n                })\n            });\n        });\n        return () => {\n            firestore.createEvent(id, config.EVENT.REMOVE.KEYWORD, userId, '');\n        }\n    },[]);\n\n    const createEvent = (type,message = '') => {\n        firestore.createEvent(id,type,userId,message);\n    }\n    \n    return (\n        <div className={styles.room_container}>\n            <nav className={styles.options}>\n                {navigation.map((nav, index) => {\n                    return <a className={`${active === index ? styles.nav_active : ''}`} onClick={() => { setActive(index) }}>{nav.key}</a>\n                })}\n            </nav>\n            <div className={styles.wrapper}>\n                <Player \n                    className=\"player\" \n                    src={src} \n                    createEvent = {createEvent} \n                    playing={playing} \n                    updateRoomProgress= {updateRoomProgress} \n                    playListAction= {playListAction} \n                    seek={seek} />\n                {navigation[active].component}\n            </div>\n            <div className={styles.details}>\n                {!isHost && <button onClick={checkRoomDetails}>RE-SYNC</button>}\n            </div>\n            <div className={styles.wave}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\"><path fill=\"#641ba8cc\" fillP=\"1\" d=\"M0,128L24,133.3C48,139,96,149,144,144C192,139,240,117,288,128C336,139,384,181,432,186.7C480,192,528,160,576,170.7C624,181,672,235,720,256C768,277,816,267,864,272C912,277,960,299,1008,266.7C1056,235,1104,149,1152,112C1200,75,1248,85,1296,101.3C1344,117,1392,139,1416,149.3L1440,160L1440,320L1416,320C1392,320,1344,320,1296,320C1248,320,1200,320,1152,320C1104,320,1056,320,1008,320C960,320,912,320,864,320C816,320,768,320,720,320C672,320,624,320,576,320C528,320,480,320,432,320C384,320,336,320,288,320C240,320,192,320,144,320C96,320,48,320,24,320L0,320Z\"></path></svg>\n            </div>  \n        </div>\n    )\n}\n\nexport default Room\n","import Home from './components/home';\nimport Room from './components/Room'; \n\nimport {\n  HashRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Home}/>\n          <Route path=\"/room\" component={Room}/>\n          <Redirect to='/'></Redirect>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}