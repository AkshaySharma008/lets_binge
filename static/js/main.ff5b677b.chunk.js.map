{"version":3,"sources":["components/Room/Chat/chat.module.css","components/Room/room.module.css","components/utils/page_loader/page_loader.module.css","components/Room/player/player.module.css","config/index.js","config/firestore.js","components/utils/page_loader/index.js","components/home/index.js","components/Room/player/index.js","components/Room/Chat/index.js","components/utils/local_storage/index.js","components/Room/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","ALLOWED_DOMAINS","CONVERT_DOMAINS","DEFAULT_SRC","FIREBASE","API_KEY","AUTH_DOMAIN","PROJECT_ID","STORAGE_BUCKET","MESSAGING_SENDER_ID","APP_ID","MEASUREMENT_ID","USERNAME_KEY","EVENT","ADD","KEYWORD","MESSAGE","REMOVE","LOAD","PLAYER","PLAY","PAUSE","config","room_collection","member_collection","initializeFirebase","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFireStore","apps","length","firestore","createRoom","a","collection","add","name","country","res","id","createMember","room","isHost","doc","rooms","createEvent","type","user","message","d","Date","n","getTime","createdAt","events","orderBy","members","getLastEvents","eventRef","limit","get","getMembers","memberRef","findMember","where","result","updateRoomDetails","url","progress","update","getARoom","PageLoader","title","cover","coverBackground","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","className","styles","shadow","style","loading","css","size","color","Home","history","useHistory","useState","setLoading","onClick","then","roomId","push","pathname","goToRoom","catch","err","Player","src","playing","updateRoomProgress","seek","player","useRef","PLAYER_CONFIG","CONFIG","useEffect","current","seekTo","ref","react_player","width","height","youtube","playerVars","showinfo","autoplay","facebook","controls","onPause","onBuffer","console","log","onSeek","onPlay","onProgress","data","played","Chat","messages","addMessage","dummy","scrollIntoView","sendMessage","element","document","getElementById","msg","value","body","message_area","map","bubble","username","input_message","onKeyPress","e","which","placeholder","key","reactLocalStorage","setObject","set","getObject","Object","keys","Map","Room","setSrc","setName","setPlaying","setSeek","setMessages","useParams","userId","setUserId","checkURL","matched_domain","i","domain","includes","final_domain","checkDomain","trim","Array","isArray","replace","updateMembers","forEach","LocalStorage","member","isOwner","getUsername","undefined","checkRoomDetails","getMessage","messageArray","Math","floor","random","handleEvent","event","prompt","checkUsername","onSnapshot","querySnapshot","promiseArray","docChanges","change","Promise","rej","ex","all","newMessages","concat","room_container","wrapper","details","finalSrc","wave","xmlns","viewBox","fill","fillP","App","path","component","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ff5b677b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"chat_body__-cV2Q\",\"input_message\":\"chat_input_message__3ShjF\",\"message_area\":\"chat_message_area__35dwc\",\"bubble\":\"chat_bubble__GOTsH\",\"username\":\"chat_username__3goGx\",\"message\":\"chat_message__1rLmk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"room_container\":\"room_room_container__yoafx\",\"wrapper\":\"room_wrapper__1-jBj\",\"wave\":\"room_wave__qW0_q\",\"details\":\"room_details__3Vg9j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shadow\":\"page_loader_shadow__3rt0p\",\"title\":\"page_loader_title__2Udzc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__7Avdx\",\"react_player\":\"player_react_player__iHCin\"};","export default {\n    ALLOWED_DOMAINS: ['music.youtube.com', 'youtube.com'],\n    CONVERT_DOMAINS: {\n        'music.youtube.com': 'youtube.com'\n    },\n    DEFAULT_SRC: \"https://www.youtube.com/watch?v=7bv_eqtkKqQ\",\n    FIREBASE: {\n        API_KEY: \"AIzaSyCMrTjeCVqbWIUDuXSzrQCCWOO1UuNbJBM\",\n        AUTH_DOMAIN: \"orbital-scene-200115.firebaseapp.com\",\n        PROJECT_ID: \"orbital-scene-200115\",\n        STORAGE_BUCKET: \"orbital-scene-200115.appspot.com\",\n        MESSAGING_SENDER_ID: \"184642334250\",\n        APP_ID: \"1:184642334250:web:bc19551df971fb77b25d53\",\n        MEASUREMENT_ID: \"G-WG9CW377SK\"\n    },\n    USERNAME_KEY: 'username',\n    EVENT: {\n        ADD: {\n            KEYWORD: 'add',\n            MESSAGE: [\n                'Say Hi to ${user}',\n                '${user} is here!',\n                'Look ${user} is here'\n            ]\n        },\n        REMOVE: {\n            KEYWORD: 'remove',\n            MESSAGE: [\n                '${user} left'\n            ]\n        },\n        MESSAGE: {\n            KEYWORD: 'message'\n        },\n        LOAD: {\n            KEYWORD: 'load',\n            MESSAGE: [\n                '${user} has loaded another video'\n            ]\n        },\n        PLAYER: {\n            PLAY: {\n                KEYWORD: 'play',\n                MESSAGE: [\n                    '${user} started playing!'\n                ]\n            },\n            PAUSE: {\n                KEYWORD: 'pause',\n                MESSAGE: [\n                    '${user} paused the video!'\n                ]\n            }\n        }\n    }\n}","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport config from './index';\n\nconst FIREBASE = config.FIREBASE;\n\nconst room_collection = \"rooms\";\nconst member_collection = \"members\";\nconst message_collection = \"message\";\nconst event_collection = \"events\";\n\n\nconst initializeFirebase = () => {\n    firebase.initializeApp({\n        apiKey: FIREBASE.API_KEY,\n        authDomain: FIREBASE.AUTH_DOMAIN,\n        projectId: FIREBASE.PROJECT_ID,\n        storageBucket: FIREBASE.STORAGE_BUCKET,\n        messagingSenderId: FIREBASE.MESSAGING_SENDER_ID,\n        appId: FIREBASE.APP_ID,\n        measurementId: FIREBASE.MEASUREMENT_ID\n    });\n}\n\nconst getFireStore = () => {\n    if (firebase.apps.length === 0) {\n        initializeFirebase();\n    }\n    const firestore = firebase.firestore();\n    return firestore;\n}\n\nconst createRoom = async () => {\n    const firestore = getFireStore();\n    const res = await firestore.collection(room_collection).add({\n        name: 'Tokyo',\n        country: 'Japan'\n    });\n    return res.id;\n}\n\nconst createMember = async (room, name, isHost) => {\n    const firestore = getFireStore();\n    const res = await firestore.collection(room_collection).doc(room).collection(member_collection).add({\n        name,\n        isHost\n    });\n    return res.id;\n}\n\nconst createEvent = async (room, type, user, message) => {\n    const firestore = getFireStore();\n    var d = new Date();\n    var n = d.getTime();\n    const res = await firestore.collection(room_collection).doc(room).collection(event_collection).add({\n        type,\n        user,\n        message,\n        createdAt: n\n    });\n    return res.id;\n}\n\nconst rooms = () => {\n    const firestore = getFireStore();\n    const messagesRef = firestore.collection('rooms');\n    const query = messagesRef;\n    return query;\n}\n\nconst events = (room) => {\n    const firestore = getFireStore();\n    const query = firestore.collection('rooms').doc(room).collection('events').orderBy('createdAt')\n    return query;\n}\n\nconst members = (room) => {\n    const firestore = getFireStore();\n    const query = firestore.collection('rooms').doc(room).collection('members');\n    return query;\n}\n\nconst getLastEvents = async (room) => {\n    const firestore = getFireStore();\n    const eventRef = firestore.collection('rooms').doc(room).collection('events');\n    return await eventRef.limit(25).get();\n}\n\nconst getMembers = async (room) => {\n    const firestore = getFireStore();\n    const memberRef = firestore.collection(room_collection).doc(room).collection(member_collection);\n    return await memberRef.get();\n}\n\nconst findMember = async (id,room) => {\n    const firestore = getFireStore();\n    const result = await firestore.collection(room_collection).doc(room).collection(member_collection).where('id','==', id).get();\n    return result;\n}\n\nconst updateRoomDetails = (room,url,progress) => {\n    const firestore = getFireStore();\n    const res = firestore.collection(room_collection).doc(room).update({\n        url,\n        progress\n    });\n}\n\nconst getARoom = async (room) => {\n    const firestore = getFireStore();\n    const memberRef = firestore.collection(room_collection).doc(room);\n    return await memberRef.get();\n}\n\nexport default {\n    initializeFirebase,\n    createRoom,\n    createMember,\n    rooms,\n    createEvent,\n    events,\n    members,\n    getLastEvents,\n    getMembers,\n    findMember,\n    updateRoomDetails,\n    getARoom\n}\n","import React from 'react'\nimport styles from './page_loader.module.css';\nimport PuffLoader from \"react-spinners/PuffLoader\";\n\nconst override = `\n    position:fixed;\n    left: 45%;\n    top: 50%;\n`;\n\nfunction PageLoader({title,cover}) {\n\n    const coverBackground = {\n        backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), \n        url(${cover})`,\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat'\n    }\n\n    return (\n        <div className={styles.shadow} style={coverBackground}>\n                <div className={styles.title}>{title}</div>\n                <PuffLoader loading={true} css={override} size={100} color=\"white\"/>\n        </div>\n    )\n}\n\nexport default PageLoader","import React, {useState} from 'react'\nimport { useParams, useHistory } from 'react-router-dom';\nimport firestore from '../../config/firestore';\nimport PageLoader from '../utils/page_loader';\n\nconst Home = () => {\n\n    const history = useHistory();\n    let [loading, setLoading] = useState(false);\n    \n\n    const goToRoom = (roomId) => {\n        if (roomId) {\n            history.push({\n                pathname: `/room/${roomId}`,\n            });\n        }\n    }\n\n    const createRoom = () => {\n        setLoading(true);\n        firestore.createRoom().then((roomId) => {\n            goToRoom(roomId);\n        }).catch((err)=>{\n            setLoading(false);\n        })\n\n    }\n\n    return (\n        <div>\n            { loading && <PageLoader title={\"Creating Room\"}/>}\n            <div>\n                {/* <input type=\"text\" id=\"url\" placeholder=\"Enter URL\" /> */}\n                <button onClick={createRoom}>Create Room</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React, {useEffect, useRef} from 'react';\nimport { useLocation, useHistory, Link } from 'react-router-dom';\nimport ReactPlayer from 'react-player';\nimport CONFIG from '../../../config';\n\nimport styles from './player.module.css';\n\nfunction Player({\n    src,\n    createEvent,\n    playing,\n    updateRoomProgress,\n    seek\n}) {\n    const player = useRef();\n    const PLAYER_CONFIG = CONFIG.EVENT.PLAYER;\n    const config = {\n        youtube: {\n            playerVars: {\n                showinfo: 0,\n                autoplay: 0\n            }\n        },\n        facebook: {\n            appId: '12345'\n        }\n    }\n\n    \n    useEffect(() => {\n\n        return () => {\n        //player.destroy();\n        }\n    });\n\n    const onPlay = () => {\n        if(playing === false){\n            createEvent(PLAYER_CONFIG.PLAY.KEYWORD);\n        }\n    }\n\n    const onPause = () => {\n        if(playing === true){\n            createEvent(PLAYER_CONFIG.PAUSE.KEYWORD);\n        }\n    }\n\n    const onBuffer = () => {\n        console.log('Bufferringgg!!');\n    }\n\n    const onSeek = () => {\n        console.log('Seekingg');\n    }\n\n    const updateProgress = (data) => {\n        updateRoomProgress(data.played);\n    }\n\n    useEffect(()=>{\n        if(seek){\n            player.current.seekTo(seek, \"fraction\");\n        }\n    },[seek])\n\n    return (\n        <div className={styles.player}>\n            <ReactPlayer\n                url={src}\n                ref={player}\n                playing = {playing}\n                className={styles.react_player}\n                width={'100%'}\n                height={'100%'}\n                config={config}\n                controls={true}\n                onPause = {onPause}\n                onBuffer = {onBuffer}\n                onSeek = {onSeek}\n                onPlay = {onPlay}\n                onProgress = {updateProgress}\n            />\n        </div>\n    )\n}\n\nexport default Player\n","import React, {useEffect,useState, useRef} from 'react';\nimport styles from './chat.module.css';\n\nfunction Chat({messages, addMessage}) {\n    let room;\n    const dummy = useRef();\n\n    useEffect(() => {\n       // createRoom();\n        return () => {\n        }\n    });\n\n    useEffect(() => {\n        dummy.current.scrollIntoView();\n    }, [messages])\n\n    const sendMessage = () => {\n        const element = document.getElementById('msg');\n        const msg = element.value;\n        if(msg){\n            addMessage(msg);\n            element.value = '';\n        }\n    }\n\n    const handleKey = (e) => {\n        if (e.which === 13) {\n            sendMessage();\n        }\n    }\n\n    return (\n        <div className={styles.body}>\n            <div className={styles.message_area}>\n                {messages && messages.map((msg) => {\n                    return <div className={styles.bubble}>\n                        {msg.username && <div className={styles.username}>{msg.username}:</div>}\n                        <div className={styles.message}>{msg.message}</div>\n                    </div>\n                })}\n                <span ref={dummy}></span>\n            </div>\n            <div className={styles.input_message}>\n                <input onKeyPress={handleKey} type=\"text\" id=\"msg\" placeholder={\"Say Hi!\"}></input>\n                <button onClick={sendMessage}>SEND</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Chat\n","import {reactLocalStorage} from 'reactjs-localstorage';\n\nconst set = (key, value) => {\n    if (typeof value === 'object' && value !== null){\n        reactLocalStorage.setObject(key, value);\n    }else{\n        reactLocalStorage.set(key, value);\n    }\n}\n\nconst get = (key) => {\n    if(key){\n        const value = reactLocalStorage.getObject(key);\n        if (typeof value === 'object' && Object.keys(value).length !== 0) {\n            return value;\n        }else{\n            return reactLocalStorage.get(key);\n        }\n    }\n    return null;\n}\n\nconst remove = (key) => {\n    return reactLocalStorage.remove(key);\n}\n\nconst clearStorage = () => {\n    return reactLocalStorage.clear();\n}\n\nexport default {\n    set,\n    get,\n    remove,\n    clearStorage\n}","import React,{useEffect, useState} from 'react';\nimport Player from './player';\nimport Chat from './Chat';\nimport styles from './room.module.css';\nimport config from '../../config';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    useParams\n} from \"react-router-dom\";\nimport LocalStorage from '../utils/local_storage';\nimport firestore from '../../config/firestore';\n\nlet members = new Map();\n\nfunction Room() {\n\n    const [src, setSrc] = useState(config.DEFAULT_SRC);\n    const [ name, setName ] = useState('USER');\n    const [ playing, setPlaying ] = useState(false);\n    const [seek, setSeek] = useState(0);\n    let [messages, setMessages] = useState([]);\n    let isHost = false;\n    let { id } = useParams();\n    let [userId, setUserId] = useState(null);\n\n    const checkDomain = (url) => {\n        let matched_domain = '';\n        for (let i = 0; i < config.ALLOWED_DOMAINS.length; i++) {\n            const domain = config.ALLOWED_DOMAINS[i];\n            if (url.includes(domain)) {\n                matched_domain = domain;\n                break;\n            }\n        }\n\n        if (matched_domain === '') {\n            return -1;\n        }\n        let final_domain = matched_domain;\n        if (config.CONVERT_DOMAINS[matched_domain]) {\n            final_domain = config.CONVERT_DOMAINS[matched_domain];\n        }\n        return [matched_domain, final_domain];\n    }\n\n    const checkURL = (url) => {\n        url = url.trim();\n        const result = checkDomain(url);\n        if (Array.isArray(result)) {\n            return url.replace(result[0], result[1]);\n        } else {\n            return url;\n        }\n    }  \n\n    const loadMedia = () => {\n        const element = document.getElementById('link');\n        const url = element.value;\n        const finalSrc = checkURL(url); \n        setSrc(finalSrc);\n        firestore.createEvent(id,config.EVENT.LOAD.KEYWORD,userId,finalSrc);\n    }\n\n    const checkUsername = () => {\n        const key = config.USERNAME_KEY;\n        let username = LocalStorage.get(key);\n        if(username){\n            return username;\n        }else{\n            username = prompt('Enter Username');\n            LocalStorage.set(key,username);\n            return username;\n        }\n    }\n\n    const updateMembers = async () => {\n        const result = await firestore.getMembers(id);\n        result.forEach((res) => {\n            members.set(res.id,res.data());\n        });\n    }\n\n    const createMember = async (username) => {\n        const room = LocalStorage.get(id);\n        if(room && room.member){\n            userId = room.member;\n            setUserId(userId);\n        }else{\n            const isOwner = members.size === 0 ? true : false;\n            userId = await firestore.createMember(id, username, isOwner);\n            setUserId(userId);\n            const roomJson = {\n                member: userId\n            }\n            LocalStorage.set(id, roomJson);\n            members.set(userId, {\n                name: username,\n                isHost: isOwner\n            });\n        }\n        firestore.createEvent(id, config.EVENT.ADD.KEYWORD, userId, '');\n    }\n\n    const addMessage = (msg) => {\n        firestore.createEvent(id, config.EVENT.MESSAGE.KEYWORD, userId, msg);\n    }\n\n    const getUsername = async (id) => {\n        let username = members.get(id)?.name;\n        return username === undefined ? await firestore.findMember(id) : username;\n    }\n\n    const checkRoomDetails = async () => {\n        const res = await firestore.getARoom(id);\n        if(res){\n            const data = res.data();\n            if(data.url){\n                setSrc(data.url);\n            }\n            if(data.progress){\n                setSeek(data.progress);\n            }\n        }\n    }\n\n    const getMessage = (messageArray, username) => {\n        const length = messageArray.length;\n        const index = Math.floor(Math.random() * length);\n        const message = messageArray[index];\n        return message.replace('${user}',username);\n    }\n\n    const handleEvent = async (event) => {\n        const user = event.user;\n        const username = await getUsername(user);\n        switch (event.type) {\n            case config.EVENT.ADD.KEYWORD:\n                return {\n                    message: getMessage(config.EVENT.ADD.MESSAGE, username)\n                };\n                break;\n\n            case config.EVENT.REMOVE.KEYWORD:\n                return {\n                    message: getMessage(config.EVENT.REMOVE.MESSAGE, username)\n                };\n                break;\n            case config.EVENT.LOAD.KEYWORD:\n                setSrc(event.message);\n                return {\n                    message: getMessage(config.EVENT.LOAD.MESSAGE, username)\n                };\n                break;\n            case config.EVENT.MESSAGE.KEYWORD:\n                return {\n                    message: event.message,\n                        username: username\n                }\n                break;\n            case config.EVENT.PLAYER.PLAY.KEYWORD:\n                setPlaying(true);\n                return {\n                    message: getMessage(config.EVENT.PLAYER.PLAY.MESSAGE, username)\n                }\n                break;\n            case config.EVENT.PLAYER.PAUSE.KEYWORD:\n                setPlaying(false);\n                return {\n                    message: getMessage(config.EVENT.PLAYER.PAUSE.MESSAGE, username)\n                }\n        }\n    }\n\n    const updateRoomProgress = (progress) => {\n        if(members?.get(userId)?.isHost){\n            firestore.updateRoomDetails(id, src, progress);\n        }\n    }\n\n    useEffect(()=>{\n        checkRoomDetails();\n        const username = checkUsername();\n        setName(username);\n        updateMembers().then((res)=> {\n            createMember(username).then((res) => {\n                firestore.events(id).onSnapshot(querySnapshot => {\n                    const promiseArray = [];\n                    const changes = querySnapshot.docChanges()\n                    changes.forEach(change => {\n                        promiseArray.push(new Promise((res,rej)=>{\n                            handleEvent(change.doc.data())?.then((result) => {\n                                res(result);\n                            }).catch((ex) => {\n                                rej(ex);\n                            })\n                        }))\n                    });\n                    Promise.all(promiseArray).then((newMessages) => {\n                        messages = messages.concat(newMessages);\n                        setMessages(messages);\n                    }); \n                })\n            });\n        });\n\n        return () => {\n            firestore.createEvent(id, config.EVENT.REMOVE.KEYWORD, userId, '');\n        }\n    },[]);\n\n    const createEvent = (type,message = '') => {\n        firestore.createEvent(id,type,userId,message);\n    }\n    \n    return (\n        <div className={styles.room_container}>\n            <div className={styles.wrapper}>\n                <Player className=\"player\" src={src} createEvent = {createEvent} playing={playing} updateRoomProgress={updateRoomProgress} seek={seek} />\n                <Chat className=\"chat\" messages = {messages} addMessage = {addMessage} />\n            </div>\n            <div className={styles.details}>\n                <input type=\"text\" id='link' placeholder=\" DROP YOUR LINK HERE\"/>\n                <button onClick={loadMedia}>LOAD</button>\n            </div>\n            <div className={styles.wave}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\"><path fill=\"#641ba8cc\" fillP=\"1\" d=\"M0,128L24,133.3C48,139,96,149,144,144C192,139,240,117,288,128C336,139,384,181,432,186.7C480,192,528,160,576,170.7C624,181,672,235,720,256C768,277,816,267,864,272C912,277,960,299,1008,266.7C1056,235,1104,149,1152,112C1200,75,1248,85,1296,101.3C1344,117,1392,139,1416,149.3L1440,160L1440,320L1416,320C1392,320,1344,320,1296,320C1248,320,1200,320,1152,320C1104,320,1056,320,1008,320C960,320,912,320,864,320C816,320,768,320,720,320C672,320,624,320,576,320C528,320,480,320,432,320C384,320,336,320,288,320C240,320,192,320,144,320C96,320,48,320,24,320L0,320Z\"></path></svg>\n            </div>  \n        </div>\n    )\n}\n\nexport default Room\n","import Home from './components/home';\nimport Room from './components/Room'; \n\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/\" component={Home}/>\n          <Route path=\"/room/:id\" component={Room}/>\n          <Redirect to='/'></Redirect>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}